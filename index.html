<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cloakify - Image Steganography</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="card" role="main">
    <header>
      <div>
        <h1>Cloakify</h1>
        <p class="lead">Hide or reveal secret messages inside images</p>
      </div><br>
      <div style="text-align:right">
        <div style="font-size:12px;color:rgba(255,255,255,0.6)">Hide Messages • LSB steganography</div>
      </div>
    </header>

    <div class="controls">
      <div class="mode-toggle">
        <div id="encPill" class="pill active">Encrypt (Hide)</div>
        <div id="decPill" class="pill">Decrypt (Reveal)</div>
      </div>

      <div id="encryptSection" class="section">
        <label>Choose a cover image</label>
        <div class="row" style="margin-bottom:10px">
          
          <label class="btn ghost" style="position:relative;overflow:hidden">Upload image
            <input id="uploadCover" type="file" accept="image/*" style="position:absolute;left:0;top:0;opacity:0;width:100%;height:100%;cursor:pointer">
          </label>
          <button id="randomFlower" class="btn ghost" style="border: 0px; width: 0px; height: 0px;"></button>
        </div>
        <div class="row" style="margin-bottom:10px">
          <label>Message to hide</label>
        </div>
        <textarea id="messageInput" placeholder="Type your secret message here..."></textarea>
        
        <small class="hint">Maximum message length depends on the chosen image.</small>
        <div style="margin-top:12px;display:flex;gap:8px;">
          <button id="encodeBtn" class="btn primary">Encode & Download</button>
        </div>
      </div>

      <div id="decryptSection" class="section" style="display:none;margin-top:18px">
        <label>Upload stego image (to reveal message)</label>
        <label class="btn ghost" style="position:relative;overflow:hidden">Upload stego image
          <input id="uploadStego" type="file" accept="image/*" style="position:absolute;left:0;top:0;opacity:0;width:100%;height:100%;cursor:pointer">
        </label>
        <div style="margin-top:12px;display:flex;gap:8px;">
          <button id="decodeBtn" class="btn primary">Reveal Message</button>
        </div>
      </div>

    </div>

    <aside class="preview">
      <div class="image-wrap" id="imageWrap">
        <img id="previewImage" alt="Cover preview" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='600' height='300'><rect width='100%' height='100%' fill='%230b1220'/><text x='50%' y='50%' fill='%238396a8' font-size='18' text-anchor='middle' dominant-baseline='middle'>No image selected — preview will appear here</text></svg>">
      </div>
      <div class="meta" id="metaArea">Image info: —</div>

      <div id="statusArea" class="status" style="display:none"></div>

      <canvas id="hiddenCanvas" style="display:none"></canvas>
    </aside>

    <footer>
      <div>Built with ❤️ - runs entirely in your browser</div>
      <div><small>Tip: Use PNG for lossless results when downloading</small></div>
    </footer>
  </div>

<script src="script.js"></script>
</body>
</html>
